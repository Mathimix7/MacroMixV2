def getUsers(options, path):
    import os, json
    if not os.path.exists(os.path.join(path,"discordUsers.json")):
        with open(os.path.join(path,"discordUsers.json"), "w") as f:
            json.dump([], f)
    with open(os.path.join(path,"discordUsers.json"), "r") as f:
        data = json.load(f)
    
    users = []
    for user in data:
        users.append(user["name"])
    users.append("Add New")
    return users

if __name__ == "__main__":

    def save(func):
        import marshal, os
        file_name, _ = os.path.splitext(os.path.basename(__file__))
        code_string = marshal.dumps(func.__code__)
        with open(f'{file_name}.marshal', 'wb') as file:
            marshal.dump(code_string, file)
            
    save(getUsers)
